<template>
  <require from="./components/add-person"></require>
  <require from='./components/statistics'></require>


  <header>
    <div class="locale-switcher" t="[aria-label]title.language">
      <a href='#' class.bind="locale === 'en' ? 'active' :''" click.delegate="setLocale('en')">English</a>
      <a href='#' class.bind="locale === 'de' ? 'active' :''" click.delegate="setLocale('de')">Deutsch</a>
    </div>
    <h1  t="title.main">Person management</h1>
  </header>
  <main>
    <article>
      <section class="add-section">
        <add-person></add-person>
      </section>
      <section class="table-section">
        <router-view></router-view>
      </section>
    </article>
    <nav class='router' t="[aria-label]title.filters">              
      <span repeat.for="nav of router.navigation" 
          show.bind="(nav.title==='total' && persons.list.length !== 0) || persons.count(nav.title) & signal:'person-list-change'"
          class="${nav.isActive ? 'active' : ''}">
          <span class="separator" if.bind="nav.title!=='total'" aria-hidden="true">|</span>
          <a href.bind="nav.href" t="attribute.${nav.title}">${nav.title}</a>                 
      </span>  
    </nav>
  </main>
  <aside class="sidebar">
    <statistics></statistics>
  </aside>
</template>
